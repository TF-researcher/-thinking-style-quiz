<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>æ€ç¶­æ¨¡å¼è©•ä¼°æ¸¬é©—</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: auto; padding: 2em; }
    .question { margin-bottom: 2em; }
    .bar { height: 20px; background: #3498db; }
    .label { font-weight: bold; margin-top: 1em; }
    #shareBox { margin-top: 2em; background: #eef; padding: 1em; border-radius: 8px; }
    #shareText { width: 100%; height: 80px; }
    .intro { background: #f0f8ff; border-left: 4px solid #339; padding: 1em; margin-bottom: 2em; }
  </style>
</head>
<body>
  <h1>æ€ç¶­æ¨¡å¼è©•ä¼°æ¸¬é©—</h1>
  <div class="intro">
    <p>ğŸ“› <strong>ç”¨é€”èªªæ˜ï¼š</strong> æœ¬æ¸¬é©—æ—¨åœ¨è©•ä¼°å—æ¸¬è€…å‚¾å‘çš„æ€ç¶­æ–¹å¼ï¼Œå”åŠ©æ‚¨ç†è§£å€‹äººåå¥½èˆ‡æ±ºç­–é¢¨æ ¼ã€‚</p>
    <p>ğŸ“Œ <strong>å¡«å¯«é ˆçŸ¥ï¼š</strong> æœ¬å•å·ç„¡å°éŒ¯ä¹‹åˆ†ï¼Œè«‹ä¾ç…§æ‚¨çš„çœŸå¯¦æƒ³æ³•ä½œç­”ã€‚æœ¬ç³»çµ±ä¸æœƒå„²å­˜ä»»ä½•å€‹äººè³‡æ–™ï¼Œæ‰€æœ‰å›é¥‹åƒ…ä¾›åƒè€ƒã€‚</p>
  </div>
  <form id="quizForm"></form>
  <button type="button" onclick="submitQuiz()">ğŸ“® æäº¤æ¸¬é©—ä¸¦æŸ¥çœ‹çµæœ</button>
  <div id="results" style="margin-top:2em;"></div>
  <div id="shareBox" style="display:none;">
    <h3>ğŸ“¢ åˆ†äº«ä½ çš„çµæœ</h3>
    <textarea id="shareText" readonly></textarea><br>
    <button type="button" onclick="copyResult()">ğŸ“‹ è¤‡è£½åˆ†äº«æ–‡å­—</button>
    <a id="lineShare" href="#" target="_blank">åˆ†äº«åˆ° LINE</a>
  </div>
<script>
const questions = [{"title": "ç•¶ä½ æ¥åˆ°ä¸€é …å…¨æ–°ä»»å‹™æ™‚ï¼Œä½ é€šå¸¸æœƒå¦‚ä½•é–‹å§‹ï¼Ÿ", "name": "q1", "choices": [{"label": "ç«‹å³è¦åŠƒæ˜ç¢ºçš„æ­¥é©Ÿèˆ‡é€²åº¦è¡¨ã€‚", "value": "linear"}, {"label": "å…ˆè’é›†å„æ–¹è³‡è¨Šï¼Œç†è§£ä»»å‹™èˆ‡å…¶ä»–å› ç´ çš„é—œè¯æ€§ã€‚", "value": "network"}, {"label": "å›æƒ³éå»é¡ä¼¼ç¶“é©—ï¼Œå½ˆæ€§å®‰æ’è™•ç†é †åºã€‚", "value": "mixed"}, {"label": "ç­‰ä¸»ç®¡æˆ–ä»–äººèªªæ˜æµç¨‹å¾Œå†é–‹å§‹ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ é‡åˆ°ä¸€å€‹ä¸ç†Ÿæ‚‰çš„å•é¡Œæ™‚ï¼Œä½ æœƒå¦‚ä½•è§£æ±ºï¼Ÿ", "name": "q2", "choices": [{"label": "æ ¹æ“šé‚è¼¯èˆ‡æµç¨‹ï¼Œé€æ­¥åˆ†æä¸¦è§£æ±ºã€‚", "value": "linear"}, {"label": "å¾å¤šå€‹è§’åº¦æ¢è¨å•é¡Œå¯èƒ½çš„æˆå› èˆ‡å½±éŸ¿ã€‚", "value": "network"}, {"label": "æ ¹æ“šç•¶ä¸‹æƒ…æ³é¸æ“‡é©åˆçš„æ–¹æ³•éˆæ´»è™•ç†ã€‚", "value": "mixed"}, {"label": "å…ˆè©¢å•ä»–äººéå¾€çš„è™•ç†æ–¹å¼å†åšæ±ºå®šã€‚", "value": "passive"}]}, {"title": "ç•¶åŸæœ¬è¨ˆç•«ä¸­å‡ºç¾çªç™¼è®Šå‹•æ™‚ï¼Œä½ çš„åæ‡‰æ˜¯ï¼Ÿ", "name": "q3", "choices": [{"label": "ç«‹å³ä¿®æ­£åŸè¨ˆç•«å…§å®¹ä¸¦æŒçºŒåŸ·è¡Œä¸‹å»ã€‚", "value": "linear"}, {"label": "åˆ†æè®Šå‹•èƒŒå¾ŒåŸå› ï¼Œé‡æ–°èª¿æ•´æ•´é«”ç­–ç•¥ã€‚", "value": "network"}, {"label": "æ ¹æ“šæƒ…å‹¢å½ˆæ€§èª¿æ•´ï¼Œç¶­æŒç›®æ¨™ä¸è®Šã€‚", "value": "mixed"}, {"label": "åœä¸‹è§€æœ›ï¼Œç­‰ä»–äººæ±ºå®šå†è¡Œå‹•ã€‚", "value": "passive"}]}, {"title": "åœ¨åœ˜éšŠåˆä½œä¸­ï¼Œä½ é€šå¸¸æœƒæ‰®æ¼”ä»€éº¼è§’è‰²ï¼Ÿ", "name": "q4", "choices": [{"label": "å®‰æ’å·¥ä½œå…§å®¹ä¸¦ä¸»å°æµç¨‹æ¨é€²ã€‚", "value": "linear"}, {"label": "æå‡ºä¸åŒè§€é»ï¼Œå”åŠ©åœ˜éšŠçœ‹è¦‹å…¨è²Œã€‚", "value": "network"}, {"label": "å”èª¿èˆ‡æ•´åˆåœ˜éšŠæˆå“¡ä¹‹é–“çš„å·®ç•°ã€‚", "value": "mixed"}, {"label": "å®Œæˆäº¤ä»˜ä»»å‹™ï¼Œé¿å…ä¸»å‹•åƒèˆ‡è¦åŠƒã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ éœ€è¦ç¨ç«‹åšå‡ºä¸€é …æ±ºç­–æ™‚ï¼Œä½ æœƒæ€éº¼åšï¼Ÿ", "name": "q5", "choices": [{"label": "æ ¹æ“šè³‡æ–™èˆ‡é‚è¼¯æ¢åˆ—é¸é …å¾Œåšå‡ºé¸æ“‡ã€‚", "value": "linear"}, {"label": "è€ƒæ…®é€™é …æ±ºç­–å¯èƒ½å°æ•´é«”ç”¢ç”Ÿçš„é€£é–åæ‡‰ã€‚", "value": "network"}, {"label": "åŒæ™‚ä¾æ“šç›´è¦ºèˆ‡ç¾å ´ç‹€æ³å¿«é€Ÿåšåˆ¤æ–·ã€‚", "value": "mixed"}, {"label": "å¸Œæœ›åˆ¥äººå…ˆæä¾›å»ºè­°å†è·Ÿè‘—åˆ¤æ–·ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ éœ€è¦è™•ç†ä¸€å€‹å¤šè®Šä¸”ä¸å®¹æ˜“å®šç¾©çš„å•é¡Œæ™‚ï¼Œä½ æœƒæ€éº¼åšï¼Ÿ", "name": "q6", "choices": [{"label": "å°‡å•é¡Œæ‹†è§£ç‚ºå°éƒ¨åˆ†ï¼Œä¾åºè™•ç†ã€‚", "value": "linear"}, {"label": "åˆ†æå•é¡ŒèƒŒå¾Œçš„çµæ§‹èˆ‡å¤šé‡å½±éŸ¿å› ç´ ã€‚", "value": "network"}, {"label": "æ ¹æ“šä¸åŒæƒ…æ³éˆæ´»æ¡å–æš«æ™‚è§£æ³•ã€‚", "value": "mixed"}, {"label": "é¿å…æ·±å…¥è™•ç†ï¼Œç­‰å¾…å®ƒè‡ªç„¶æ¶ˆå¤±æˆ–ä»–äººä»‹å…¥ã€‚", "value": "passive"}]}, {"title": "ç•¶å­¸ç¿’ä¸€å€‹å…¨æ–°æ¦‚å¿µæˆ–æŠ€èƒ½æ™‚ï¼Œä½ çš„å‚¾å‘æ˜¯ï¼Ÿ", "name": "q7", "choices": [{"label": "æŒ‰ç…§æ•™å­¸é †åºèˆ‡æ•™æé€²è¡Œã€‚", "value": "linear"}, {"label": "æ¢ç´¢å»¶ä¼¸ä¸»é¡Œï¼Œå»ºç«‹æ•´é«”ç†è§£ã€‚", "value": "network"}, {"label": "æ ¹æ“šèˆˆè¶£æˆ–éœ€æ±‚é¸æ“‡é©åˆçš„åˆ‡å…¥æ–¹å¼ã€‚", "value": "mixed"}, {"label": "ç­‰åˆ¥äººæŒ‡å°æˆ–æ¨è–¦æ‰é–‹å§‹ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ é­é‡æŸå€‹æ˜ç¢ºçš„å¤±æ•—æ™‚ï¼Œä½ çš„åæ‡‰é€šå¸¸æ˜¯ï¼Ÿ", "name": "q8", "choices": [{"label": "æ•´ç†åŸå› ä¸¦åˆ—å‡ºæ”¹é€²æ–¹æ³•ã€‚", "value": "linear"}, {"label": "å›é¡§æ•´é«”æµç¨‹èˆ‡ç³»çµ±æ€§å•é¡Œã€‚", "value": "network"}, {"label": "å¿«é€Ÿèª¿æ•´æ–¹å‘ï¼Œè½‰å‘å…¶ä»–å¯èƒ½æ–¹å¼ã€‚", "value": "mixed"}, {"label": "æ„Ÿåˆ°æŒ«æŠ˜èˆ‡ç„¦æ…®ï¼Œä¸€æ™‚ç„¡æ³•è¡Œå‹•ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ çŸ­æ™‚é–“å…§éœ€è¦å®Œæˆå¤šä»¶ä»»å‹™æ™‚ï¼Œä½ çš„åšæ³•æ˜¯ï¼Ÿ", "name": "q9", "choices": [{"label": "åˆ—å‡ºæ¸…å–®ä¸¦ä¾å„ªå…ˆé †åºå®Œæˆã€‚", "value": "linear"}, {"label": "åˆ†é…è³‡æºä¸¦æ ¹æ“šä»»å‹™é–“çš„é—œè¯é€²è¡Œèª¿æ•´ã€‚", "value": "network"}, {"label": "ä¾ç…§ç•¶ä¸‹æƒ…æ³å½ˆæ€§å®‰æ’èˆ‡åˆ‡æ›ã€‚", "value": "mixed"}, {"label": "å®¹æ˜“æ„Ÿåˆ°å£“åŠ›ï¼Œä¸çŸ¥é“å¦‚ä½•é–‹å§‹ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ é¢å°å®Œå…¨æœªçŸ¥çš„æ–°æŒ‘æˆ°æ™‚ï¼Œä½ é€šå¸¸æœƒï¼Ÿ", "name": "q10", "choices": [{"label": "å»ºç«‹æ­¥é©Ÿèˆ‡ç›®æ¨™ï¼Œå†é€ä¸€å˜—è©¦ã€‚", "value": "linear"}, {"label": "å…ˆè’é›†è³‡è¨Šä¸¦å¾ä¸åŒè§’åº¦åˆ†æå¯èƒ½ç‹€æ³ã€‚", "value": "network"}, {"label": "ç›´æ¥ä¸‹å ´è©¦æ°´æº«ï¼Œé‚Šåšé‚Šä¿®æ­£ã€‚", "value": "mixed"}, {"label": "æ„Ÿåˆ°ç·Šå¼µï¼Œæœƒå…ˆè«‹åˆ¥äººçµ¦å»ºè­°ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ å®‰æ’æ—¥å¸¸è¨ˆåŠƒæ™‚ï¼Œä½ åå¥½çš„æ–¹å¼æ˜¯ï¼Ÿ", "name": "q11", "choices": [{"label": "äº‹å…ˆè¨­å®šå…·é«”æ™‚ç¨‹èˆ‡é †åºã€‚", "value": "linear"}, {"label": "è¦–æ•´é«”ç’°å¢ƒèˆ‡ä»»å‹™å½ˆæ€§èª¿æ•´å®‰æ’ã€‚", "value": "network"}, {"label": "ä¾ç…§ç•¶å¤©æƒ…æ³æˆ–èƒ½é‡é€²è¡Œå¾®èª¿ã€‚", "value": "mixed"}, {"label": "ä¸å¤ªæœƒä¸»å‹•å®‰æ’ï¼Œèµ°ä¸€æ­¥ç®—ä¸€æ­¥ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ éœ€è¦å¿«é€Ÿå­¸æœƒä¸€é …æ–°æŠ€èƒ½æ™‚ï¼Œä½ æœƒæ€éº¼è™•ç†ï¼Ÿ", "name": "q12", "choices": [{"label": "å°‹æ‰¾æ˜ç¢ºæ•™å­¸ï¼ŒæŒ‰æ­¥é©Ÿå®Œæˆå­¸ç¿’ã€‚", "value": "linear"}, {"label": "å»ºæ§‹çŸ¥è­˜æ¶æ§‹ï¼Œç†è§£æ¦‚å¿µèˆ‡èƒŒæ™¯ã€‚", "value": "network"}, {"label": "é€éå¯¦ä½œç·´ç¿’é‚Šåšé‚Šå­¸ã€‚", "value": "mixed"}, {"label": "ç­‰å¾…æœ‰äººèªªæ˜æˆ–ç¤ºç¯„å¾Œå†å­¸ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ é‡åˆ°äººéš›è¡çªæˆ–æ„è¦‹ä¸åˆæ™‚ï¼Œä½ çš„åæ‡‰æ˜¯ï¼Ÿ", "name": "q13", "choices": [{"label": "æ‰¾å‡ºè¦å‰‡æˆ–æµç¨‹å”åŠ©é‡æ¸…ã€‚", "value": "linear"}, {"label": "å˜—è©¦ç†è§£é›™æ–¹è„ˆçµ¡èˆ‡æ·±å±¤åŸå› ã€‚", "value": "network"}, {"label": "çœ‹æƒ…æ³å”èª¿ï¼Œå°‹æ±‚é›™æ–¹éƒ½å¯æ¥å—æ–¹æ¡ˆã€‚", "value": "mixed"}, {"label": "é¿å…æ²å…¥ï¼Œç›¡é‡ä¸åƒèˆ‡è¨è«–ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ å£“åŠ›è¼ƒå¤§æˆ–æ™‚é–“ç·Šè¿«æ™‚ï¼Œä½ æœƒï¼Ÿ", "name": "q14", "choices": [{"label": "è¨‚å®šçŸ­æœŸè¨ˆåŠƒï¼Œé€æ­¥è™•ç†å£“åŠ›æºã€‚", "value": "linear"}, {"label": "åˆ†æå£“åŠ›ä¾†æºèˆ‡å…¶å°æ•´é«”çš„å½±éŸ¿ã€‚", "value": "network"}, {"label": "è½‰æ›ç’°å¢ƒæˆ–æ–¹å¼è®“è‡ªå·±å¿«é€Ÿèˆ’ç·©ã€‚", "value": "mixed"}, {"label": "æ„Ÿåˆ°ç„¡åŠ›ï¼Œä¸çŸ¥é“è©²å¦‚ä½•è™•ç†ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ éœ€è¦å¿«é€Ÿåšå‡ºä¸€é …æ±ºç­–æ™‚ï¼Œä½ æœƒï¼Ÿ", "name": "q15", "choices": [{"label": "æ ¹æ“šå·²çŸ¥è³‡æ–™èˆ‡ç¶“é©—ç«‹å³è©•ä¼°ã€‚", "value": "linear"}, {"label": "çŸ­æ™‚é–“å…§è€ƒæ…®æ•´é«”æ¶æ§‹èˆ‡é•·æœŸå½±éŸ¿ã€‚", "value": "network"}, {"label": "å…ˆåšå†èªªï¼Œé‚Šèµ°é‚Šä¿®æ­£ã€‚", "value": "mixed"}, {"label": "å•å•ä»–äººæ„è¦‹å†æ±ºå®šã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ éœ€è¦é¢å°ä¸ç¢ºå®šçš„æœªä¾†ç‹€æ³æ™‚ï¼Œä½ æœƒï¼Ÿ", "name": "q16", "choices": [{"label": "è¨­è¨ˆå¯èƒ½å ´æ™¯èˆ‡æ‡‰è®Šæ­¥é©Ÿã€‚", "value": "linear"}, {"label": "è©•ä¼°å„ç¨®å¯èƒ½æ€§ä¸¦å»ºç«‹å‚™æ¡ˆæ¶æ§‹ã€‚", "value": "network"}, {"label": "è·Ÿè‘—æ„Ÿè¦ºèµ°ï¼Œé‡åˆ°å†æ‡‰å°ã€‚", "value": "mixed"}, {"label": "ä¸ç¢ºå®šè¦æ€éº¼è¾¦ï¼Œå…ˆæš«ç·©è™•ç†ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ åƒèˆ‡ä¸€é …éœ€è¦å‰µæ–°æ€ç¶­çš„å·¥ä½œæ™‚ï¼Œä½ çš„åšæ³•æ˜¯ï¼Ÿ", "name": "q17", "choices": [{"label": "çµåˆç¾æœ‰æµç¨‹è¨­è¨ˆå„ªåŒ–æ–¹æ¡ˆã€‚", "value": "linear"}, {"label": "å¾ä¸åŒè§’åº¦åˆ†æï¼Œæå‡ºå…¨æ–°æ§‹æƒ³ã€‚", "value": "network"}, {"label": "èåˆå„é ˜åŸŸå…ƒç´ è¨­è¨ˆæ–°æ¨¡å¼ã€‚", "value": "mixed"}, {"label": "ç­‰å¾…å…¶ä»–äººå…ˆæå‡ºæƒ³æ³•å¾Œå†è£œå……ã€‚", "value": "passive"}]}, {"title": "åœ¨å­¸ç¿’æ–°çŸ¥è­˜çš„éç¨‹ä¸­ï¼Œä½ é€šå¸¸æœƒï¼Ÿ", "name": "q18", "choices": [{"label": "å¾åŸºæœ¬åŸå‰‡å‡ºç™¼ï¼Œé€æ­¥æ·±å…¥ã€‚", "value": "linear"}, {"label": "ä¸²è¯ç›¸é—œé ˜åŸŸï¼Œå»ºæ§‹æ•´é«”æ¶æ§‹ã€‚", "value": "network"}, {"label": "å½ˆæ€§æ¢ç´¢èˆ‡çµ„åˆè‡ªå·±å–œæ­¡çš„æ–¹å¼ã€‚", "value": "mixed"}, {"label": "ç­‰è€å¸«æˆ–æ•™ææ€éº¼å®‰æ’å°±æ€éº¼å­¸ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ åœ¨è·¨éƒ¨é–€å”ä½œä¸­é‡åˆ°åˆ†æ­§æ™‚ï¼Œä½ æœƒï¼Ÿ", "name": "q19", "choices": [{"label": "åˆ—å‡ºå„æ–¹ç«‹å ´ï¼Œè¨­æ³•å»ºç«‹å…±è­˜æµç¨‹ã€‚", "value": "linear"}, {"label": "å¾æ•´é«”åˆä½œæ¶æ§‹é‡æ–°ç›¤æ•´è§’è‰²é—œä¿‚ã€‚", "value": "network"}, {"label": "è¦–æƒ…æ³æŠ˜è¡·å”èª¿ï¼Œå°‹æ‰¾ä¸­é–“æ–¹æ¡ˆã€‚", "value": "mixed"}, {"label": "ç…§å¤§å®¶èªªçš„èµ°ï¼Œé¿å…ç«‹å ´é®®æ˜ã€‚", "value": "passive"}]}, {"title": "ç•¶ä½ é¢å°å¤±æ•—çš„ç¶“é©—æ™‚ï¼Œæœ€å¸¸æ¡å–çš„åæ‡‰æ˜¯ï¼Ÿ", "name": "q20", "choices": [{"label": "å›é¡§éç¨‹ä¸¦åˆ—å‡ºæ”¹å–„æ­¥é©Ÿã€‚", "value": "linear"}, {"label": "æª¢è¦–èƒŒå¾Œç³»çµ±æ€§å•é¡Œèˆ‡é—œè¯å› ç´ ã€‚", "value": "network"}, {"label": "æ•´åˆå›é¥‹ä¸¦å½ˆæ€§èª¿æ•´æ–¹å‘ã€‚", "value": "mixed"}, {"label": "ç­‰å¾…åˆ¥äººæå‡ºè™•ç†å»ºè­°ã€‚", "value": "passive"}]}];
const scorePerQ = 5;
const weights = { linear: scorePerQ, network: scorePerQ, mixed: scorePerQ * 0.5, passive: 0 };
const explainMap = {
  linear: 'ç·šæ€§æ€ç¶­å‹ï¼šé‚è¼¯æ¸…æ™°ã€æœ‰æ¢ç†ï¼Œé©åˆæµç¨‹å°å‘èˆ‡åŸ·è¡Œé¡å·¥ä½œã€‚',
  network: 'ç¶²ç‹€æ€ç¶­å‹ï¼šæ“…é•·å¤šè§’åº¦æ•´åˆèˆ‡åˆ†æï¼Œé©åˆè¤‡é›œæ±ºç­–èˆ‡ç­–ç•¥å·¥ä½œã€‚',
  mixed: 'æ··åˆå‹æ€ç¶­ï¼šèƒ½éˆæ´»åˆ‡æ›æ€è€ƒæ–¹å¼ï¼Œä¾ç…§æƒ…å¢ƒèª¿æ•´è§£æ³•ã€‚',
  passive: 'è¢«å‹•å‚¾å‘ï¼šå»ºè­°åŸ¹é¤Šä¸»å‹•åˆ†æèˆ‡è§£æ±ºå•é¡Œçš„èƒ½åŠ›ã€‚'
};
const container = document.getElementById("quizForm");

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

questions.forEach((q, idx) => {
  const div = document.createElement("div");
  div.className = "question";
  div.id = q.name;
  const p = document.createElement("p");
  p.textContent = (idx+1) + ". " + q.title;
  div.appendChild(p);
  shuffle(q.choices.slice()).forEach(c => {
    const label = document.createElement("label");
    const input = document.createElement("input");
    input.type = "radio";
    input.name = q.name;
    input.value = c.value;
    label.appendChild(input);
    label.appendChild(document.createTextNode(" " + c.label));
    div.appendChild(label);
    div.appendChild(document.createElement("br"));
  });
  container.appendChild(div);
});

function submitQuiz() {
  const form = new FormData(document.getElementById("quizForm"));
  const result = document.getElementById("results");
  const unanswered = [];
  questions.forEach((q, idx) => {
    const selected = document.querySelector(`input[name="${q.name}"]:checked`);
    if (!selected) unanswered.push(idx + 1);
  });
  if (unanswered.length > 0) {
    const firstUnanswered = document.querySelector(`#q${unanswered[0]}`);
    result.innerHTML = `<div style='color:red;'>â— è«‹å®Œæˆç¬¬ ${unanswered.join('ã€')} é¡Œå¾Œå†æäº¤ã€‚</div>`;
    firstUnanswered?.scrollIntoView({ behavior: 'smooth' });
    return;
  }
  let score = { linear: 0, network: 0, mixed: 0, passive: 0 };
  for (let [k, v] of form.entries()) {
    if (v in weights) score[v] += weights[v];
  }
  const sorted = Object.entries(score).sort((a,b)=>b[1]-a[1]);
  const top1 = sorted[0], top2 = sorted[1];
  result.innerHTML = `<div class='label'>ä¸»è¦æ€ç¶­ï¼š${top1[0]}ï¼ˆ${top1[1]}åˆ†ï¼‰<br>${explainMap[top1[0]]}</div>`;
  result.innerHTML += `<div class='label'>æ¬¡è¦æ€ç¶­ï¼š${top2[0]}ï¼ˆ${top2[1]}åˆ†ï¼‰<br>${explainMap[top2[0]]}</div>`;
  for (let [k,v] of Object.entries(score)) {
    const percent = Math.round((v / 100) * 100);
    result.innerHTML += `<div class='label'>${k}ï¼š${percent}%</div><div class='bar' style='width:${percent}%'></div>`;
  }
  const resultText = `ğŸ¯ æˆ‘å‰›å®Œæˆã€Œæ€ç¶­æ¨¡å¼è©•ä¼°æ¸¬é©—ã€ï¼Œæˆ‘çš„ä¸»è¦æ€ç¶­å‚¾å‘æ˜¯ï¼š
ğŸ”¹ã€${top1[0]}ã€‘${top1[1]}åˆ†
${explainMap[top1[0]]}

æ¬¡é«˜å‚¾å‘ç‚ºï¼š
ğŸ”¸ã€${top2[0]}ã€‘${top2[1]}åˆ†
${explainMap[top2[0]]}

ğŸ“Œ å»ºè­°ï¼šå–„ç”¨ä½ çš„æ€ç¶­ç‰¹è³ªç™¼æ®å„ªå‹¢ï¼Œäº†è§£è‡ªå·±ä¹Ÿæ›´æ‡‚å¦‚ä½•èˆ‡ä»–äººåˆä½œï¼

ğŸ‘¥ æƒ³çŸ¥é“ä½ çš„æ€ç¶­é¢¨æ ¼å—ï¼Ÿ
ğŸ‘‰ ä¸€èµ·ä¾†æ¸¬é©—ï¼šhttps://your-survey-link`;
  document.getElementById("shareText").value = resultText;
  document.getElementById("lineShare").href = `https://line.me/R/msg/text/?${encodeURIComponent(resultText)}`;
  
const comboMap = {
  "linear_network": `ä½ å…¼å…·é‚è¼¯èˆ‡å…¨å±€è¦–è§’ï¼Œé©åˆæ¨å‹•ç­–ç•¥è½å¯¦ã€æµç¨‹å„ªåŒ–ç­‰è§’è‰²ã€‚`,
  "linear_mixed": `ä½ å…·å‚™çµæ§‹èˆ‡å½ˆæ€§ï¼Œé©åˆåœ¨éœ€æ‡‰è®Šåˆé‡è¦–è¨ˆåŠƒæ€§çš„å°ˆæ¡ˆä¸­ç™¼æ®ã€‚`,
  "linear_passive": `ä½ èƒ½ç©©å®šåŸ·è¡Œä»»å‹™ï¼Œä½†å¯èƒ½ä¾è³´ä»–äººèµ·å§‹ï¼Œå»ºè­°å¼·åŒ–ä¸»å‹•ç­–ç•¥èˆ‡è¡¨é”èƒ½åŠ›ã€‚`,
  "mixed_network": `ä½ æ“…é•·æ•´åˆè³‡è¨Šä¸¦éˆæ´»èª¿æ•´ï¼Œæ˜¯å‰µæ–°è¦åŠƒã€ç­–ç•¥åˆ†æçš„å¼·é …ã€‚`,
  "network_passive": `ä½ ç†è§£è¤‡é›œæ¶æ§‹ä½†è¡Œå‹•åŠ›ç¨å¼±ï¼Œå»ºè­°é€éå°å‹å°å…¥å°ˆæ¡ˆç·´ç¿’ä¸»å‹•æ¨å‹•ã€‚`,
  "mixed_passive": `ä½ å…·é©æ‡‰åŠ›èˆ‡å½ˆæ€§ï¼Œä½†ä¸»å‹•æ€§éœ€æå‡ï¼Œå»ºè­°å¾åƒèˆ‡å…·æ±ºç­–è²¬ä»»çš„ä»»å‹™ç·´ç¿’ã€‚`,
};
const comboKey = [top1[0], top2[0]].sort().join("_");
if (comboMap[comboKey]) {
  result.innerHTML += `<div style='margin-top:1em;'><strong>ğŸ”— ä¸»ï¼‹æ¬¡çµ„åˆå»ºè­°ï¼š</strong><br>${comboMap[comboKey]}</div>`;
// ç¶œåˆå»ºè­°ï¼ˆæ ¹æ“šä¸»è¦å‚¾å‘æ¯”ä¾‹ï¼‰
  const percentMain = Math.round((top1[1] / 100) * 100);
  let summaryAdvice = "";
  if (percentMain >= 80) {
    summaryAdvice = "ä½ åœ¨è©²æ€ç¶­é¡å‹è¡¨ç¾æ¥µç‚ºæ˜ç¢ºï¼Œå»ºè­°ç™¼å±•å°ˆç²¾æŠ€èƒ½ï¼Œæˆç‚ºè©²é ˜åŸŸçš„å°ˆå®¶è§’è‰²ã€‚";
  } else if (percentMain >= 60) {
    summaryAdvice = "ä½ å‚¾å‘æ˜ç¢ºï¼Œä½†ä¹Ÿå…·å‚™å…¶ä»–é¡å‹ç‰¹è³ªï¼Œå»ºè­°å¹³è¡¡ç™¼å±•å¤šå…ƒèƒ½åŠ›ã€‚";
  } else if (percentMain >= 40) {
    summaryAdvice = "ä½ åœ¨ä¸åŒæ€ç¶­é¡å‹ä¸­è¼ƒç‚ºå¹³å‡ï¼Œä»£è¡¨ä½ å…·æœ‰å½ˆæ€§èˆ‡æ•´åˆæ½›åŠ›ã€‚";
  } else {
    summaryAdvice = "ä½ çš„æ€ç¶­ç‰¹è³ªå°šä¸æ˜é¡¯ï¼Œå»ºè­°é€éç·´ç¿’èˆ‡å›é¥‹é€æ­¥æ‰¾åˆ°é©åˆè‡ªå·±çš„æ€ç¶­ç¯€å¥ã€‚";
  }
  result.innerHTML += `<div style='margin-top:1em;'><strong>ğŸ“˜ ç¶œåˆå»ºè­°ï¼š</strong><br>${summaryAdvice}</div>`;
}

  document.getElementById("shareBox").style.display = 'block';
}

function copyResult() {
  const text = document.getElementById("shareText").value;
  navigator.clipboard.writeText(text).then(() => alert("å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼"));
}
</script>
</body>
</html>
